    Esta clase va a ser
        grabad
          a
              Clase 28. DATA SCIENCE
          Data Wrangling I
      Temario
                       27                      28                     29
               Data Acquisition        Data Wrangling I      Data Wrangling II
                        II
                 ‚úì Intro Github          ‚úì Data Wrangling en     ‚úì Etapas de Data 
                                            proyectos DS           Wrangling
                 ‚úì Javascript Object 
                    Notation             ‚úì Etapas Data           ‚úì Data Transformation
                 ‚úì Introducci√≥n APIs        Wrangling            ‚úì Opciones de 
                                         ‚úì Combinar y              remoci√≥n de 
                 ‚úì Conexi√≥n a modelos       fusionar objetos       duplicados
                    relacionales usando     con Pandas. Merge    ‚úì √çndices jer√°rquicos
                    Pandas                  y Concat
                                                                 ‚úì Print, GropBy, Apply
    Objetivos de la clase
                 Establecer la relaci√≥n entre Data Wrangling y 
                 un proyecto de Ciencia de datos
                 Analizar cada una de las etapas de Data 
                 Wrangling
                 Fusionar y concatenar DataFrames
       MAPA DE CONCEPTOS            Data Wrangling 
                                   en proyecto de DS
                                    Etapas de Data 
                        Parte I      Wrangling
                                    Merge y Concat
     Data Wrangling                   Data 
                                    Transformation
                                    Remoci√≥n de 
                                     duplicados
                        Parte II      √çndices 
                                     jer√°rquicos
                                    Print, GroupBy, 
                                      Apply
      Cuestionario de tarea
   ¬øTe gustar√≠a comprobar tus 
   conocimientos de la clase anterior?
   Te compartimos a trav√©s del chat de 
   Zoom / chat de la plataforma el enlace a un 
   breve cuestionario de Kahoot.
   Duraci√≥n: 10 minutos
     Repaso de Data 
       Acquisition
      Para pensar
   ¬øC√≥mo accedemos a bases de datos usando 
   Pandas?
   ¬øDe qu√© depende el proceso de Data 
   Acquisition en una empresa?
                  Repaso Data 
                   Acquisition
       En clases pasadas hemos visto c√≥mo 
       acceder a diferentes fuentes de 
       datos usando pandas
       A partir de ejemplos logramos 
       concluir que en algunas ocasiones el 
       proceso de Data Acquisition no es 
       simple, depende del grado de 
       madurez y manejo de datos en las 
       compa√±√≠as
       En esta clase nos enfocaremos en la 
       preparaci√≥n de datos o Data 
       Wrangling. Empecemos ÌøÅÌ†º
    Data Wrangling en 
    un proyecto de DS
       Definici√≥n
    Definici√≥n de Data Wrangling
     La manipulaci√≥n de datos es el proceso de limpieza 
     y  unificaci√≥n  de  conjuntos  de  datos  complejos  y 
     desordenados  para  facilitar  el  acceso,    an√°lisis  y 
     modelado.  Este  proceso  generalmente  incluye 
     convertir y mapear los datos crudos (raw data) y 
     dejarlos  en  un  formato  m√°s  adecuado  para  su 
     uso. 
    Ejemplos de Tareas Data 
    Wrangling
     ‚úî Fusi√≥n  de  m√∫ltiples  fuentes  de  datos  en  un  √∫nico 
       conjunto de datos para el an√°lisis
     ‚úî Identificar lagunas en los datos (por ejemplo, celdas 
       vac√≠as  en  una  hoja  de  c√°lculo)  y  llenarlas  o 
       eliminarlas
     ‚úî Eliminar  datos  que  son  innecesarios  o  irrelevantes 
       para el proyecto en el que est√°n trabajando
     ‚úî Identificar valores at√≠picos extremos en los datos y 
       explicar las discrepancias o eliminarlas para que se 
       pueda realizar el an√°lisis
    Proceso Data Wrangling
     El Data Wrangling puede ser un proceso manual o 
     automatizado.  En las organizaciones que emplean un 
     equipo de datos completo, un cient√≠fico de datos u otro 
     miembro del equipo suele ser responsable de la disputa 
     de datos. 
     En organizaciones m√°s peque√±as, los profesionales que 
     no son de datos a menudo son responsables de limpiar 
     sus datos antes de aprovecharlos.
    Importancia del Data 
       Wrangling
    Importancia Data Wrangling
     El Data Wrangling puede llevar mucho tiempo y 
     agotar los recursos, especialmente cuando se 
     realiza manualmente. Esta es la raz√≥n por la que 
     muchas organizaciones instituyen pol√≠ticas y 
     mejores pr√°cticas que ayudan a los empleados a 
     optimizar el proceso de limpieza de datos.
     Por esta raz√≥n, es vital comprender los pasos del 
     proceso de Data Wrangling y los resultados 
     negativos asociados con datos incorrectos o 
     defectuosos. 
    Importancia Data Wrangling
     Cualquier an√°lisis que realice una empresa estar√° 
     limitado en √∫ltima instancia por los datos que los 
     informan. Si los datos son incompletos, poco 
     confiables o defectuosos, los an√°lisis tambi√©n lo 
     ser√°n, disminuyendo el valor.
     El Data Wrangling busca eliminar ese riesgo al 
     garantizar que los datos est√©n en un estado 
     confiable antes de que se analicen y aprovechen. 
     Esto lo convierte en una parte cr√≠tica del proceso 
     anal√≠tico.
       Rol de Data 
    Wrangling en Fases 
      Proyecto DS
      Fases iniciales de un 
      proyecto DS
           1                2               3                 4                5
     Definici√≥n de     Contexto         Problema            Data       Exploratory Data 
        objetivo       Comercial       Comercial         Acquisition    Analysis (EDA)
      Fases finales de un 
      proyecto DS
          6               7               8                 9               10
        Data        Selecci√≥n del  Desarrollo del     Validaci√≥n y    Conclusiones
     Wrangling        algoritmo       algoritmo        despliegue
     (Munging)        apropiado
                             ~60% del tiempo de un Data Scientist 
                             consiste en limpiar y manipular datos
     Etapas del Data 
       Wrangling
    Etapas del Data Wrangling
   Descubrimiento   Limpieza       Validaci√≥n
      1       2       3       4       5      6
          Estructuraci√≥n Enriquecimiento   Publicaci√≥n
                Exploremos un poco cada una de las etapas
    Descubrimiento
    Antes  de  empezar  cualquier  an√°lisis,  es 
    importante  comprender  los  datos,  la 
    estructura, tipos y cantidad. Tambi√©n lo es 
    conocer  por  qu√©  una  compa√±√≠a  los  utiliza  y 
    c√≥mo.  √âsto  sirve  para  tomar  decisiones 
    posteriores con un rumbo claro. 
    Estructuraci√≥n
    La  idea  de  esta  etapa  es  estandarizar  el 
    formato  de  los  datos.  Dependiendo  de  si 
    hay  diversas  fuentes  u  or√≠genes,  los  datos 
    estar√°n en diferentes formatos y estructuras. 
    Limpieza
    Debemos eliminar los datos que no brinden 
    informaci√≥n  extra  como  los  duplicados, 
    revisar datos faltantes, etc. Esta propiedad 
    estandariza  el  formato  de  las  columnas 
    (float, datatimes, etc).
    Enriquecimiento
     Esta  etapa  se  refiere  a  agregar  datos  extra 
     (Fuentes  externas)  que  complementan  a  los 
     que ya existen para agregar informaci√≥n extra 
     al an√°lisis.
     En  algunos  casos  se  puede  crear 
     variables resumen
        Validaci√≥n
        Es   muy  importante  para  los  equipos, 
        asegurarse que los datos son precisos  y que 
        la informaci√≥n no se alter√≥ durante el proceso. 
        Esto   significa  asegurar  la  fiabilidad, 
        credibilidad y calidad de los datos limpios 
        debido  a  que  van  a  utilizarse  para  tomar 
        decisiones. 
    Publicaci√≥n
    Una  vez  que  los  datos  est√°n  validados,  se 
    pueden compartir para su uso, realizar an√°lisis 
    exploratorios,  entrenar  modelos  y  tomar 
    decisiones.
    Se entiende como un producto final que 
    se entrega para ser usado
                 ‚òï
               Break
             ¬°10 minutos y 
             volvemos!
    Combinar y fusionar 
    objetos con Pandas. 
     Merge y Concat
     Repaso de Pandas
    Datos ausentes
     ‚úî Estos valores podr√≠an no ser adecuados para 
       algunos algoritmos de Data Science. Por ello, 
       deben ser manejados correctamente.
     ‚úî Pandas nos provee de herramientas para trabajar 
       con ellos.
     ‚úî Podemos utilizar las funciones isnull(), fillna() y 
       dropna() a la hora de lidiar con datos de este tipo
        Datos ausentes
             Podemos marcarlos                   Numeros_nan.isnull()         Ì±âÌ†Ω
             Podemos 
             reemplazarlos                       Numeros_nan.fillna(0)         Ì±âÌ†Ω
             Podemos eliminarlos                 Numeros_nan.dropna()           Ì±âÌ†Ω
    Datos ausentes
                                 La librer√≠a missingno es una gran 
                                 alternativa a la hora de explorar 
                                 datos faltantes en un dataframe
                                 Blanco: Valores del faltante
                                 Negro: Valores con dato
    Funciones de agregaci√≥n
       Agregaciones: sum, max, min, std, 
       var etc..
       describe() e info() para describir el 
       dataset de forma general
       Funciones con str y Datetimes para 
       mejorar formato de fecha y strings
        Merge
    Merge
    pandas.merge():  Conecta filas de dos o m√°s DataFrames basado en una o mas keys. Es 
    similar al join en una query de sql.
    Merge: 
    Fusi√≥n de DataFrames
    En el ejemplo, vemos 
    dos tablas con una   Result = pd.merge(left, right, on="key")
    misma key (llave 
    primaria). 
    Podemos unirlas por 
    medio de: 
     Merge: 
     Fusi√≥n de DataFrames
                    Caso no tan simple: M√°s de una llave primaria
                   result = pd.merge(left, right, on=["key1", "key2"])
      Concatenate
       Concatenate
      pandas.concat(): Concatena o apila dos o m√°s dataframes a lo largo de un 
      eje Ejemplo: 
          Este caso es ordenado y simple 
          porque las tablas tienen la            Ì±âÌ†Ω
          mismas columnas
       pd.concat(frame, axis=0) # 0 indica por filas, 1 por 
       columna
    Concatenate
         Ejemplo: 
         Axis = 0 es el  valor por default y significa que va a apilar las flas de los 
         Dataframes.
         La √∫nica columna que tienen en com√∫n es la D
    Concatenate
    Ejemplo: 
    Axis = 1 significa que va a apilar las columnas de los DataFrames
    Las filas que tiene que tienen √≠ndices en comun tienen valores en todas las columnas.
      Ejemplo en vivo
   Aprenderemos a utilizar la funci√≥n 
   concatenate y merge de Pandas con el fin 
   de entender c√≥mo concatenar Pandas 
   Dataframes, utilizaremos los archivos 
   llamados clase0.xslx y clase1.xslx dentro 
   de la carpeta de clase.
        Merge y Concat de 
            DataFrames
     Revisaremos c√≥mo construir consultas equivalentes a 
       las que hemos realizado en las clases de SQL 
              utilizando Pandas
             Duraci√≥n: 15-20 mins
      ACTIVIDAD EN CLASE
    Merge y Concat de 
    Dataframes
    Utilizaremos los archivos planos llamados 
    employees.csv, orders.csv y customers.csv en la 
    carpeta de clase
    1. Obtener un dataframe con el OrderID, 
      LastName y FirstName con base en las 
      tablas orders y employees. (Sugerencia: 
      utilizar la funci√≥n merge)
    2. Obtener un dataframe con el 
      CustomerName y el OrderID utilizando las 
      tablas Customers y Orders
       CLASE N¬∞28
       Glosario
       Data Wrangling: proceso de convertir y     Merge: funci√≥n disponible en pandas que 
       mapear los datos crudos (raw data) y       nos permite combinar Dataframes con base 
       dejarlos en un formato m√°s adecuado        a columnas que comparten de diversas 
       para su uso. Usualmente toma bastante      maneras: full join, inner join, left join y right 
       tiempo (60% en promedio del tiempo de      join
       un DS).
                                                  Concatenate: funci√≥n disponible en 
       Etapas de Data Wrangling: son 6 fases      pandas que nos permite apilar DataFrames 
       que describen el proceso de                por columnas o filas con el fin de generar 
       estructuraci√≥n de un dataset:              una sola estructura general. La opci√≥n 
       descubrimiento, estructuraci√≥n, limpieza,  axis=0 permite concatenar por filas y 
       enriquecimiento, validaci√≥n y publicaci√≥n. axis=1 por columnas. 
      ¬øPreguntas?
     ¬øA√∫n quieres conocer 
          m√°s?
     Te recomendamos el 
      siguiente material
         MATERIAL AMPLIADO
     Recursos multimedia
          Porque Data Cleaning es necesario?
           ‚úì Why is ‚ÄúData cleaning‚Äù necessary | Medium | 
             Why DATA CLEANING
          Missingno library
           ‚úì Missing data visualization module for Python | Github | 
             Missingno
      Disponible en nuestro repositorio.
      Opina y valora 
       esta clase
        Muchas 
        gracias.
                   Resumen 
               de la clase hoy
              ‚úì Data Wrangling en un proyecto de DS
              ‚úì Etapas de Data Wrangling
              ‚úì Combinar y fusionar objetos con Pandas. Merge y 
                Concat
