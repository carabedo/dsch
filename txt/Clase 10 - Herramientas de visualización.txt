    Esta clase va a ser
        grabad
          a
              Clase 10. DATA SCIENCE
            Herramientas 
           de visualizaciÃ³n
      Temario
                       09                      10                     11
                  EstadÃ­stica           Herramientas           Procesamiento 
                  Descriptiva          de VisualizaciÃ³n        estadÃ­sticos de 
                                                                  los datos
                   âœ“ IntroducciÃ³n        âœ“ IntroducciÃ³n         âœ“ Procesamiento 
                   âœ“ Medidas de          âœ“ GrÃ¡ficos                como concepto
                      resumen               Univariados
                                                                âœ“ Outliers 
                   âœ“ DistribuciÃ³n de     âœ“ GrÃ¡ficos 
                      variables             Bivariados          âœ“ Datos ausentes
                                         âœ“ Forma de los         âœ“ ReducciÃ³n de 
                   âœ“ Intervalos de          datos
                      confianza                                    dimensionalidad
                                         âœ“ GrÃ¡ficos de dos 
                                            dimensiones
    Objetivos de la clase
                 Conocer la relevancia de la visualizaciÃ³n de 
                 datos.
                 Identificar cÃ³mo lograr una comunicaciÃ³n 
                 efectiva.  
                 Comprender un anÃ¡lisis bÃ¡sico, las relaciones 
                 entre elementos y la distribuciÃ³n.
                 Conocer grÃ¡ficos en mÃ¡s de dos dimensiones.
              MAPA DE CONCEPTOS
                                                         Herramientas 
                                                         de 
                                                         visualizaciÃ³n
             VisualizaciÃ³n de                           Relaciones entre      AnÃ¡lisis de           GrÃ¡ficos de mÃ¡s 
             datos                AnÃ¡lisis bÃ¡sico       elementos             distribuciones        de dos 
                                                                                                    dimensiones
             IntroducciÃ³n         Bar chart             Series de tiempo      Entendimiento         MÃ¡s de dos
             Elementos            Histogramas           Diagramas de          Boxplot               MÃ¡s de tres
                                                        DispersiÃ³n
                                                        CorrelaciÃ³n                                 Otras formas
                                                                                                    Radar
                                                                                                    Chernoff
  Repasemos conâ€¦
    IntroducciÃ³n a tipos 
       de grÃ¡ficos 
      estadÃ­sticos y 
    buenas prÃ¡cticas de 
         uso
      IntroducciÃ³n
             Los datos son un 
                       arma 
                 de doble filo
          Para hacer el bien         Desinformar y engaÃ±ar
              Tenemos que ser fuertemente responsables
         â€œCon un gran poder viene una 
         gran responsabilidadâ€
                                                                                                        -    Peter Parker
       Â¿CÃ³mo pensar con 
       responsabilidad si lo Ãºnico
        que estoy haciendo es 
       analizar datos?
         âœ” La respuesta estÃ¡ en la salida del          âœ” Pueden comunicarse en forma 
            proceso > Son fundamentalmente                 directa o utilizarse como entrada de 
            insumos para la toma de decisiones.            algoritmos y desarrollos de ciencia 
                                                           de datos.
       ComunicaciÃ³n de 
       resultados
        âœ” PrÃ¡cticas y herramientas de la            Para lo que sigue, tengamos presente lo 
            visualizaciÃ³n de datos.                 visto en la clase anterior, dado que hay 
        âœ” PreparaciÃ³n detallada para la             una conexiÃ³n muy estrecha entre la 
            presentaciÃ³n efectiva de la             definiciÃ³n de una variable y su 
            informaciÃ³n recolectada.                visualizaciÃ³n.
        âœ” Un grÃ¡fico siempre debe decir 
            mucho con una economÃ­a de 
            elementos.
     PropÃ³sitos de un 
        grÃ¡fico
      PropÃ³sitos de 
      un grÃ¡fico
        âœ” Los grÃ¡ficos suelen tener un mayor impacto                    REEMPLAZAR 
            que las tablas                                               POR IMAGEN
       En las tablas es difÃ­cil enfatizar:
        a) Tendencias
        b) Patrones
        c) Diferencias
       Siempre existirÃ¡ la preferencia por presentar la 
       informaciÃ³n por medio de grÃ¡ficos.
     Tipos de grÃ¡ficos
      Tipos de 
       Visualizaciones Univariadas
      grÃ¡ficos
        âœ” Barras                                              REEMPLAZAR 
        âœ” Histogramas                                         POR IMAGEN
        âœ” LÃ­neas
       Visualizaciones Bivariadas
        âœ” Diagramas de dispersiÃ³n
        âœ” Boxplots
        âœ” Barras y boxplots mÃºltiples           Ejemplo de boxplots mÃºltiples que permiten comparar 
                                                        categorÃ­as en diversos niveles
     Elementos de un 
        grÃ¡fico
       CaracterÃ­sticas de un 
       grÃ¡fico
         âœ” Un tÃ­tulo entendible, claro y conciso        âœ” Debe transmitir un mensaje claro
            para lograr comunicar efectivamente         âœ” Debe resaltar puntos importantes
         âœ” Etiquetas en ejes (x,y,z) entendibles        âœ”
            y acordes con unidades de mediciÃ³n              Buen formato de estilo (balance de 
            si fuera el caso                                colores, no recargada)
         âœ” Una nota que indique: a) fuente de 
            datos y b) descripciÃ³n adicional de 
            ser necesaria suele ayudar a un 
            mejor entendimiento
  Ejemplo
               12
               10
                 8
                 6                                                                            Racing 
                 4                                                                            Independiente
                                                                                              VÃ©lez
                 2
                 0
                        Partidos         Goles             Goles          Puntos
                        jugados       convertidos        recibidos
       GrÃ¡ficos
      univariados
     GrÃ¡ficos de barras
       Fundamentos
         âœ” Contar conjunto de datos.                      âœ” Eje      horizontal    representa     las 
                                                              categorÃ­as  y  una  barra  por  cada 
         âœ” Mostrar         valores      puntuales             una de ellas.
             asociados a una categorÃ­a.
                                                          âœ” Eje       vertical    representa       la 
         âœ” Se utilizan con datos categÃ³ricos.                 cantidad o valor de los elementos 
                                                              de la categorÃ­a en cuestiÃ³n.
                       Ejemplo
       REEMPLAZAR      Tenemos las puntuaciones de 5 equipos, del E1 al E5, 
       POR IMAGEN      separados por categorÃ­as, nombradas como CategorÃ­a 
                       1 en color azul y CategorÃ­a 2 en color anaranjado.
                       RecomendaciÃ³n: No usar grÃ¡ficos de barras para 
                       representar datos en el tiempo porque las relaciones y 
                       tendencias son mÃ¡s difÃ­ciles de visualizar. Â¡MÃ¡s 
                       adelante lo veremos con series de tiempo!
       Ejemplo
          âœ” Carguemos el siguiente dataset que tiene 
              informaciÃ³n de los pasajeros que abordaron el 
              Titanic.                                                          REEMPLAZAR 
          âœ” Hacemos un conteo por Pclass y realizamos un                        POR IMAGEN
              grÃ¡fico de barras comparativo de frecuencias.
          import seaborn as sns
          import pandas as pd
          df=pd.read_csv("https://raw.githubusercontent.com/ven-27/datasets/
          master/titanic.csv")
          df_n=df[['Survived','Sex','Pclass']].groupby(by=['Sex','Pclass']).count
          ().reset_index()
          df_n.head()
          plt.figure(figsize=(10,6))
          sns.barplot(y='Survived',x='Sex',hue='Pclass',data=df_n);
       Ejemplo
        Miremos un ejemplo con una librerÃ­a llamada Bokeh que permite generar grÃ¡ficos 
        interactivos.
     df_x=df[['Survived','Pclass']].groupby(by=['Pclass']).count().reset_index()
     df_x['Pclass']=df_x['Pclass'].astype('str')
     from bokeh.palettes import Spectral6
     from bokeh.io import show, output_notebook
     from bokeh.models import CategoricalColorMapper, ColumnDataSource, FactorRange
     from bokeh.plotting import figure
     source = ColumnDataSource(data=dict(Pclass=df_x.Pclass, counts=df_x.Survived, color=Spectral6))
     p = figure(x_range=df_x.Pclass, plot_height=250, toolbar_location=None, title="Clases involucradas")
     p.vbar(x='Pclass', top='counts', width=0.9, color='color', legend="Pclass", source=source)
     p.xgrid.grid_line_color = None;p.xaxis.axis_label = "Clase"
     p.yaxis.axis_label = "Frecuencia"
     p.legend.orientation = "horizontal"
     p.legend.location = "top_center";p.add_tools(HoverTool())
     show(p)
    Ejemplo
    Las grÃ¡ficas obtenidas en esta librerÃ­a son de alta calidad con la posibilidad de interactuar 
    de manera dinÃ¡mica con el usuario por lo que se usa mucho en el desarrollo de Dashboards
          Para pensar
    Â¿En cuÃ¡l de los siguientes casos podrÃ­as 
    usar un grÃ¡fico de barras?
     âœ” MediciÃ³n de salario mÃ­nimo/mÃ¡ximo en 5 paÃ­ses de LatinoamÃ©rica. 
     âœ” MediciÃ³n de salario mÃ­nimo en 5 paÃ­ses de LatinoamÃ©rica, con una 
       comparaciÃ³n trimestral. 
     âœ” EvoluciÃ³n del salario mÃ­nimo en 5 paÃ­ses de LatinoamÃ©rica en el Ãºltimo 
       semestre. 
    Contesta mediante la encuesta de Zoom 
      Histogramas
         Fundamentos
           âœ” Se        utiliza     usualmente          para         âœ” Muestran una distribuciÃ³n de datos 
               variables numÃ©ricas continuas                             (Tendencia  central  y  SimetrÃ­a  vs 
           âœ” Muestran  las  frecuencias  de                              AsimetrÃ­a).
               apariciÃ³n para cada intervalo de                     âœ” Similares  a  los  grÃ¡ficos  de  barras, 
               valores de la variable.                                   pero     muy  diferentes  en  su 
                                                                         comportamiento.
       Ejemplo
       QuÃ©:      Consideremos        los    datos      CÃ³mo: se toman todos los valores de la 
       correspondientes  a  las  alturas  de  500      variable, desde el mÃ­nimo al mÃ¡ximo y se 
       personas,    medidas     en   centÃ­metros.      divide el rango correspondiente en 
       Organizaremos  las  mediciones  de  altura      intervalos de igual tamaÃ±o. 
       disponibles    en    intervalos,   tambiÃ©n      Generalmente, los lenguajes de 
       llamados bins.                                  programaciÃ³n ya proveen un valor 
                                                       calculado.
                       !  Un  histograma  muestra  la  importancia  de  cada 
                       intervalo de valores con respecto al total de datos.
                Histograma de frecuencias           Histograma de frecuencias 
                        absolutas                            relativas
       Â¿QuÃ© nos muestran?
       En el eje horizontal, se muestra la               La cantidad de cada intervalo se divide 
       variable a ser analizada.                         por el total de observaciones.
       Cada intervalo de valores de la variable          En nuestros casos de uso, la forma es la 
       tiene una altura que representa la                misma, lo que cambia es la interpretaciÃ³n 
       cantidad de observaciones en dicho                de los resultados: en el primero hablamos 
       intervalo.                                        de cantidad de observaciones para cada 
       Esta cantidad puede ser:                          intervalo de la variable, en el segundo 
         âœ” Â¿CuÃ¡ntas unidades hay para cada               hablamos de proporciÃ³n de veces de cada 
             intervalo de la variable?                   intervalo de la variable con respecto al 
         âœ” Â¿CuÃ¡nto del total representa cada             total de observaciones de la variable.
             intervalo de la variable?
     Ejemplo
      import seaborn as sns
      sns.histplot(data=df, x="Fare",bins=20)
      sns.histplot(data=df, x="Age",bins=20)
                                    Miremos  un  poco  la  distribuciÃ³n  de  las 
                                    variables Fare (Tarifa) y Age (Edad) para 
                                    los datos
                                   Para el caso de Fare se tiene una distribuciÃ³n 
                                   asimÃ©trica a derecha con valores entre 0-500$. 
                                   Por el contrario la distribuciÃ³n de edad tiende a 
                                   ser mÃ¡s normal con menor asimetrÃ­a con valores 
                                   entre 0-80 aÃ±os.
       Ejemplo
       Ahora analicemos un ejemplo con la librerÃ­a Bokeh
       import numpy as np
       from bokeh.io import show, output_file
       from bokeh.plotting import figure
       data = df.Age.values
       data=data[~np.isnan(data)]
       hist, edges = np.histogram(data, density=True, bins=20)
       p = figure(plot_height=300,plot_width=500, title='Hitograma de 
       edades')
       p.quad(top=hist, bottom=0, left=edges[:-1], right=edges[1:], 
       line_color="white")
       p.xaxis.axis_label = "Edad"
       p.yaxis.axis_label = "Frecuencia"
       p.add_tools(HoverTool())
       #output_file("hist.html")
       show(p)
     Ejemplo
     import numpy as np
     from bokeh.io import show, output_file
     from bokeh.plotting import figure
     data = df.Fare.values
     data=data[~np.isnan(data)]
     hist, edges = np.histogram(data, density=True, bins=20)
     p = figure(plot_height=300,plot_width=500, title='Histograma de 
     tarifas')
     p.quad(top=hist, bottom=0, left=edges[:-1], right=edges[1:], 
     line_color="white")
     p.xaxis.axis_label = "Tarifa (USD)"
     p.yaxis.axis_label = "Frecuencia"
     p.add_tools(HoverTool())
     #output_file("hist.html")
     show(p)
     Series de tiempo
       PARA RECORDAR
    Para tener en cuentaâ€¦
    Siempre que tengamos una variable que 
    tiene algÃºn tipo de evoluciÃ³n a travÃ©s 
    del tiempo, o donde organizar sus 
    valores a lo largo del tiempo tiene 
    sentido para el anÃ¡lisis, podemos 
    graficar una serie de tiempo.
       PARA RECORDAR
    Para tener en cuentaâ€¦
    Para este tipo de grÃ¡fico dibujaremos un 
    punto cuya altura representarÃ¡ el valor de 
    la variable y cuya posiciÃ³n con respecto al 
    eje horizontal representarÃ¡ el momento en 
    el tiempo en el que se mide esa variable. 
    Luego, uniremos los puntos en forma 
    secuencial.
       Â¿QuÃ© nos muestra?
       Las lÃ­neas que conectan los puntos nos         í²¡í ½RecomendaciÃ³n: usar este tipo de 
       ayudan a percibir rÃ¡pidamente si existe        grÃ¡fico para mostrar la evoluciÃ³n de una 
       alguna tendencia, repeticiÃ³n de valores o      serie de datos, realizarla siempre con 
       cualquier otra caracterÃ­stica.                 puntos y no con barras, y que el tiempo 
                                                      estÃ© siempre en el eje horizontal, 
                                                      avanzando de izquierda a derecha.
     Ejemplo
     Utilicemos datos estimados para el precio de Bitcoin y grafiquemos la serie de tiempo de los 
     datos para precio de cierre
   data=pd.read_csv('Time Series Data.csv') # Leer el archivo
   price_date=data['Date'] # extraer dos vectores uno para la 
   fecha
   price_close=data['Close'] # extraer el precio de cierre en 
   vector
   plt.plot_date(price_date, price_close, linestyle='solid') # 
   Graficar la serie de tiempo
   plt.gcf().autofmt_xdate() # Darle formato fecha al eje x
   plt.title('Precios Bitcoin')
   plt.xlabel('Fecha')
   plt.ylabel('Precio de cierre')
   plt.tight_layout() # Ajustar los ejes
   plt.show() # mostrar la grafica
    from bokeh.models import DatetimeTickFormatter
    data.Date= pd.to_datetime(data.Date) # Convertir a Datetime
    line_plot = figure(plot_width=600, plot_height=500, 
    title='Line plot',x_axis_label='Fecha', 
    y_axis_label='Precio',x_axis_type='datetime')
    line_plot.line(data.Date, data['Open'], legend='Open', 
    line_width=2)
    line_plot.line(data.Date, data['High'], legend='High', 
    line_width=2,color='red')
    line_plot.line(data.Date, data['Low'], legend='Low', 
    line_width=2,color='green')
    line_plot.line(data.Date, data['Close'], legend='Close', 
    line_width=2,color='yellow')
    line_plot.xaxis.formatter=DatetimeTickFormatter(
           hours=["%d %B %Y"],days=["%d %B %Y"],
           months=["%d %B %Y"],years=["%d %B %Y"])
    line_plot.add_tools(HoverTool())
    line_plot.legend.location = "top_left"; show(line_plot)
       GrÃ¡ficos
       bivariados
      Diagramas de 
       dispersiÃ³n
      Fundamentos
        âœ” Se  utilizan   para   observar  en      âœ” Hay que tener mucho cuidado a la 
           conjunto  la  relaciÃ³n  entre  dos        hora  de  expresar  conclusiones 
           variables.                                en forma de relaciones simples y 
        âœ” Se  colocan  los  puntos  en  dos          no  en  vÃ­nculos  de  tipo  causa-
           variables  y  pueden  analizarse  las     efecto.
           relaciones entre las mismas.           âœ” Es importante tener en cuenta que 
                                                     cuando hablamos de relaciÃ³n no 
                                                     estamos                 hablando 
                                                     necesariamente de dependencia 
                                                     de una variable con respecto a 
                                                     la otra.
      Â¡La dependencia es objeto de estudio del anÃ¡lisis de RegresiÃ³n, que veremos mÃ¡s adelante!
       Ejemplo
       Consideremos el caso de la Clase 5 acerca de los 
       pesos en kilogramos y alturas en centÃ­metros para                   REEMPLAZAR 
       un conjunto de 50 alumnos.                                           POR IMAGEN
        âœ” Cada punto representa un alumno. Para cada 
            alumno podemos ver la intersecciÃ³n del eje 
            horizontal, que indica las alturas, con el eje 
            vertical, que indica los pesos.
        âœ” A mayores alturas corresponden mayores 
            pesos y viceversa.
       CorrelaciÃ³n
       Fundamentos
                                                          âœ” Si el valor de la correlaciÃ³n es 
                                                              cercano a 1, significa que cuando los 
                                                              valores de una variable son altos, los 
       Si la relaciÃ³n tiene alguna forma definida             de la otra variable tambiÃ©n lo son, y 
       serÃ¡ considerada como correlaciÃ³n entre                anÃ¡logamente con los valores bajos. 
       las variables. ComÃºnmente hablaremos               âœ” Si el valor de la correlaciÃ³n es 
       de correlaciÃ³n lineal, que es la mÃ¡s                   cercano a -1 significa que cuando los 
       prÃ¡ctica a efectos del anÃ¡lisis en Data                valores de una variable son bajos, 
       Science.                                               los valores de la otra variable son 
                                                              altos, y anÃ¡logamente con los 
       La correlaciÃ³n lineal puede medirse a                  valores altos.
       travÃ©s de un indicador denominado 
       coeficiente de correlaciÃ³n. Puede tener            âœ” Si el valor de la correlaciÃ³n es 
       valores entre -1 y 1, y lo interpretamos de            cercano a 0, significa que no hay 
       la siguiente manera:                                   una correlaciÃ³n lineal fuerte entre 
                                                              las variables.
         Ejemplos
          El coeficiente de correlaciÃ³n de 0.97 es cercano a 1            El coeficiente de correlaciÃ³n de -0.98 es cercano 
                y hablamos de correlaciÃ³n positiva                         a -1 y hablamos de correlaciÃ³n negativa.
                       Ejemplo
         REEMPLAZAR     El coeficiente de correlaciÃ³n de 0.12 es cercano a 0 y 
         POR IMAGEN     hablamos de correlaciÃ³n nula o ausencia de 
                        correlaciÃ³n.
     Ejemplo
      âœ” Utilicemos datos estimados para el precio de Bitcoin y grafiquemos la serie de 
        tiempo de los datos para precio de cierre
     sns.set_style('whitegrid')
     plt.figure(figsize=(10,6))
     sns.scatterplot(x=data.Close, y= data.Open)
     plt.title('Relacion entre Precio apertura y cierre')
     plt.xlabel('Precio de Cierre')
     plt.ylabel('Precio de apertura')
      Parece existir una relaciÃ³n lineal entre ambas variables, 
      cuando calculamos la correlaciÃ³n de Pearson entre las 
      dos  variables  nos  da:  0.646  lo  cual  es  una  relaciÃ³n 
      moderada
     Ejemplo
     Ahora analicemos un ejemplo con la librerÃ­a Bokeh
     # Seleccion de datos
     x_scatter = data.Close # Data en x
     y_scatter = data.Open # data en y
     # Grafico (Fondo)
     scatter_plot = figure(plot_width=700, plot_height=300, 
     x_axis_label='Close', y_axis_label='Open', title='Dispersion 
     Open vs Close')
     # Scatter plot
     scatter_plot.circle(x_scatter, y_scatter, size=5, 
     line_color='navy', fill_color='orange', fill_alpha=0.5)
     # Agregar opcion interactiva
     scatter_plot.add_tools(HoverTool())
     # Mostrar
     show(scatter_plot)
                 â˜•
               Break
               Â¡10 minutos y 
                volvemos!
     Entender la forma
      de los datos
       Â¿QuÃ© buscamos cuando 
       analizamos 
       la forma de los datos?
       La distribuciÃ³n, Â¿es simÃ©trica o                  El histograma da una idea acerca de la 
       asimÃ©trica?                                       simetrÃ­a de la distribuciÃ³n. TambiÃ©n da 
       Â¿En quÃ© parte de la distribuciÃ³n se ubica         una nociÃ³n acerca de la concentraciÃ³n 
       la mayor concentraciÃ³n de datos?                  de los datos.
       Los datos, Â¿estÃ¡n mÃ¡s bien dispersos o 
       concentrados en torno a algÃºn valor?
       Â¿Puede ser que existan datos demasiado 
       alejados del resto?
    Diagramas de caja y 
        bigotes
        Boxplot
    Ejemplo
    Â¡Es muy simple en su diseÃ±o pero muy 
    poderoso por toda la informaciÃ³n 
    importante que contiene para poder 
    conocer la distribuciÃ³n de los datos!
       Elementos
        âœ” La lÃ­nea anaranjada que estÃ¡ dentro        âœ” TambiÃ©n significa que el 25% de los 
            de la caja representa la mediana de          valores estÃ¡ por debajo del lÃ­mite 
            la distribuciÃ³n.                             inferior de la caja, y el 25% de los 
        âœ” El borde inferior de la caja marca el          valores estÃ¡ por encima del lÃ­mite 
            valor del cuartil 1 (25%) y el borde         superior de la caja.
            superior de la caja marca el valor del 
            cuartil 3 (75%). Otra forma de decir 
            esto es que el 50% de la 
            concentraciÃ³n mÃ¡s â€œcentralâ€ de los 
            datos estÃ¡ delimitado por la caja.
       Elementos
         âœ” Outliers:    son  valores  â€œdemasiadoâ€          Los outliers, si existieran, estÃ¡n 
            alejados  de  la  masa  central  de 
            datos. Si los valores no son outliers,         representados  por  los  cÃ­rculos 
            o  sea  que  estÃ¡n  â€œmÃ¡s  cercaâ€  del          ubicados fuera de los bigotes.
            centro     de    los    datos,     los 
            denominaremos inliers.
         âœ” Bigotes: representan los valores de 
            los  Ãºltimos  inliers,  esto  es,  los 
            Ãºltimos  valores  que  estÃ¡n  alejados 
            del  centro  de  los  datos  pero  que 
            todavÃ­a no son outliers.
        Ejemplo
                                                                 plt.figure(figsize=(10,6))
         plt.figure(figsize=(10,6))                              sns.boxplot(x=df.Sex, y= df.Fare, 
         sns.boxplot(x=df.Sex, y= df.Fare, hue=df.Embarked)      hue=df.Embarked,showfliers=False)
         plt.title('Boxplot comparativo Genero vs Tarifa')       plt.title('Boxplot comparativo Genero vs Tarifa')
         plt.xlabel('Genero')                                    plt.xlabel('Genero')
         plt.ylabel('Tarifa')                                    plt.ylabel('Tarifa')
         Ejemplo
                                                                            Ahora analicemos un ejemplo con la 
           groups = df[['Sex','Fare']].groupby('Sex')                       librerÃ­a Bokeh
           q1 = groups.quantile(q=0.25)
           q2 = groups.quantile(q=0.5)
           q3 = groups.quantile(q=0.75)
           iqr = q3 - q1                                                   # stems
           upper = q3 + 1.5*iqr                                            p.segment(cats, upper.Fare, cats, q3.Fare, 
           lower = q1 - 1.5*iqr                                            line_color="black")
           # Encontrar outliers en cada categoria                          p.segment(cats, lower.Fare, cats, q1.Fare, 
           def outliers(group):                                            line_color="black")
              cat = group.name                                             # boxes
              return group[(group.Fare > upper.loc[cat]['Fare']) |         p.vbar(cats, 0.7, q2.Fare, q3.Fare, 
           (group.Fare < lower.loc[cat]['Fare'])]['Fare']                  fill_color="#E08E79", line_color="black")
           out = groups.apply(outliers).dropna()                           p.vbar(cats, 0.7, q1.Fare, q2.Fare, 
           # Preparar outliers para plot                                   fill_color="#3B8686", line_color="black")
           if not out.empty:                                               # whiskers
              outx = list(out.index.get_level_values(0))                   p.rect(cats, lower.Fare, 0.2, 0.01, line_color="black")
              outy = list(out.values)                                      p.rect(cats, upper.Fare, 0.2, 0.01, line_color="black")
     Ejemplo
     # outliers
     if not out.empty:
        p.circle(outx, outy, size=6, color="#F38630", 
     fill_alpha=0.6)
     #p.xgrid.grid_line_color = None
     p.ygrid.grid_line_color = "white"
     p.grid.grid_line_width = 2
     p.xaxis.major_label_text_font_size="16px"
     p.xaxis.axis_label ='Genero'
     p.yaxis.axis_label='Fare'
     p.add_tools(HoverTool())
     show(p)
     GrÃ¡ficos para ver 
       mÃ¡s de dos 
      dimensiones
                       MÃ¡s de dos 
                       dimensiones
       REEMPLAZAR      Cuando tenemos que comparar mÃ¡s de dos 
       POR IMAGEN      variables estamos en un problema. Esto se da 
                       porque un grÃ¡fico sobre el papel o la pantalla no puede 
                       mostrar mÃ¡s de dos variables o dimensiones. Para 
                       trabajar en ellas podemos echar mano de la 
                       perspectiva o de otras caracterÃ­sticas visuales que 
                       permiten analizar los datos.
        Ejemplo
        En este caso las variables x, y y z estÃ¡n ubicadas en los                  REEMPLAZAR 
        bordes de un cubo, y los puntos estÃ¡n ubicados en el                        POR IMAGEN
        espacio interior del cubo. Cada punto representa la 
        intersecciÃ³n de los valores de las variables x, y y 
        z.
                       MÃ¡s de tres 
                       dimensiones
                       Cuando tenemos un dato multidimensional se pueden 
                       utilizar grÃ¡ficos como los de Chernov (1973) que 
                       representa los atributos de la instancia por medio de 
                       un rostro.  TambiÃ©n podemos utilizar los grÃ¡ficos de 
                       radar 
       Para pensar
   Puede emplearse un grÃ¡fico de dispersiÃ³n 
   que contemple las variables: edad - ingreso 
   - paÃ­s
   Â¿Verdadero o falso?
   Contesta mediante el chat de Zoom 
    Â¿QuÃ© pasa si 
    tenemos datos 
    en mÃ¡s 
    AquÃ­ tenemos que apelar al ingenio y a las 
    dimensiones?
    caracterÃ­sticas que permiten que nuestro cerebro 
    â€œpienseâ€ en mÃ¡s dimensiones.
      GrÃ¡fico de Radar
        âœ” Surge para mostrar observaciones         âœ” Luego se grafica el valor 
           en varias variables, y tratar de           correspondiente a cada variable en 
           compararlas visualmente.                   el eje, y se traza el Ã¡rea delimitada 
        âœ” Se dibuja un radar o â€œtelaraÃ±aâ€,            por los puntos.
           donde cada eje representa una           âœ” Las observaciones similares tendrÃ¡n 
           variable.                                  Ã¡reas parecidas, y anÃ¡logamente 
                                                      con las observaciones diferentes.
                       Ejemplo
                       PodrÃ­amos decir que los grupos A y C tienen las Ã¡reas 
                       mÃ¡s grandes, por lo que sus variables tienen en 
                       general mayores valores. AdemÃ¡s, es claro que el 
                       grupo A es muy diferente del grupo B, porque sus 
                       valores se destacan en distintas variables (1, 2 y 5 para 
                       el grupo A; 3 y 4 para el grupo B).
        Caras de Chernoff
          âœ” Se basan en el mismo principio que                âœ” Las  caras  con  expresiones 
              los  grÃ¡ficos  de  radar,  pero  en  este            similares      tienen       elementos 
              caso apelan al funcionamiento de                     similares,  por  lo  tanto  los  valores 
              nuestro cerebro y cÃ³mo reacciona                     de las variables son similares.
              frente al reconocimiento de rostros.            âœ” Son  muy  Ãºtiles,  pero  solamente 
          âœ” Asocian  cada  variable  con  una                      cuando las observaciones no son 
              caracterÃ­stica  de  la  cara:  forma                 demasiadas.
              del  rostro,  forma  de  la  nariz, 
              expresiÃ³n de las cejas, expresiÃ³n de 
              la boca, forma de las orejas, etc. 
    Ejemplo
    CuadrÃ­cula de 25 observaciones que muestra caras en 
    forma simplificada para cada observaciÃ³n. Las 
    expresiones pueden inferirse claramente: hay caras 
    â€œtristesâ€, caras â€œaburridasâ€ y caras â€œenojadasâ€, por 
    ejemplo.
      Ejemplo en vivo
   Se han preguntado Â¿cÃ³mo hacer grÃ¡ficos 
   en mÃ¡s de 3 dimensiones entendibles?
   Utilizaremos en notebook Clase_10.ipynb 
   para entender cÃ³mo se pueden generar 
   grÃ¡ficos en 1, 2, 3 o mÃ¡s dimensiones.
     Â¿Quieres saber mÃ¡s?
     Te dejamos material 
     ampliado de la clase
         MATERIAL AMPLIADO
     Recursos multimedia
        âœ“ The visual display of quantitative inf
           ormation
            | Edward Tufte
      Disponible en nuestro repositorio.
       CLASE NÂ°10
       Glosario
         Elementos de un buen grÃ¡fico: i) tÃ­tulo, ii)       Cuartiles: medidas de localizaciÃ³n 
         etiquetas en los ejes y unidades si                que permiten entender el 
         corresponde, iii) puntos importantes deben         comportamiento de la distribuciÃ³n 
         resaltar, iv) buen estilo.                         de valores numÃ©ricos para una 
         Paradigma de los grÃ¡ficos: un buen grÃ¡fico         variable (e.g Q1 valor que deja el 
         puede ayudar a transmitir un mensaje o idea        25% de los datos por de bajo) 
         cuando se elige correctamente pero en caso         GrÃ¡ficos de radar: permiten ver las 
         contrario puede desinformar y generar              relaciones multivariadas de diversos 
         imprecisiones                                      grupos o individuos limitados en 
                                                            tamaÃ±o
                                                                  
       CLASE NÂ°10
       Glosario
          Tipos de grÃ¡ficos: pueden ser univariados 
          (e.g. lineplots), bivariados (e.g diagrama de         GrÃ¡ficos de Chernov: 
          dispersiÃ³n) o multivariados (e.grÃ¡ficos de            representaciones multivariadas de 
          radar)                                                individuos por medio de caras 
          CorrelaciÃ³n: medida de asociaciÃ³n entre dos           similares a un humano donde cada 
          variables cuantitativas usualmente                    atributo facial se asocia a diferentes 
          (coeficiente de pearson), es una medida               variables de un individuo
          acotada entre -1 y 1 donde 0 indica ausencia 
          de correlaciÃ³n lineal, 1 perfecta asociaciÃ³n 
          lineal y -1 relaciÃ³n inversamente proporcional              
      Â¿Preguntas?
                   Resumen 
               de la clase hoy
              âœ“ VisualizaciÃ³n de datos
              âœ“ Bar chart. Histogramas
              âœ“ Series de tiempo. DispersiÃ³n. CorrelaciÃ³n
              âœ“ Boxplot
              âœ“ GrÃ¡ficos de mÃ¡s de dos variables
      Opina y valora 
       esta clase
        Muchas 
        gracias.
